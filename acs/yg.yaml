inherits: "acs/acs_template.yaml"
global:
    use_schema: True
    source: "data/acs/<sumlevel>_<tbl>_<column>.json"
    source_vars:
        tbl: ["B01002","B01003","B19013"]
        column:
          start: 1
          end: 1
          zfill: 3
        sumlevel:
          - "state"
          - "county"
          - "metropolitan+statistical+area/micropolitan+statistical+area"
          - "place"
          - "zip+code+tabulation+area"
          - "public+use+microdata+area"

    transform:
        - type: rename
          column: "B01002_001E"
          value: "age"
        - type: rename
          column: "B01002_001M"
          value: "age_moe"
        - type: rename
          column: "B01003_001E"
          value: "pop"
        - type: rename
          column: "B01003_001M"
          value: "pop_moe"
        - type: rename
          column: "B19013_001E"
          value: "income"
        - type: rename
          column: "B19013_001M"
          value: "income_moe"
        - type: drop
          strict: NO
          column:
            - tbl
            - sumlevel
            - column
            - "state"
            - "county"
            - "metropolitan statistical area/micropolitan statistical area"
            - "place"
            - "zip code tabulation area"
            - "public use microdata area"
            - "tract"

          
tables:
  "yg":
    pk: ["year", "geo"]
    agg: sum
